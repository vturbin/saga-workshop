#######################################################################
#### This file is automatically generated. DO NOT try to modify it. ###
#######################################################################

# Use an official Node.js runtime as base image
FROM node:20-alpine

# Install Python and other dependencies
RUN apk add --no-cache python3 make g++

# Set working directory
WORKDIR /app

# Install Nx CLI globally
RUN npm install -g nx

# Copy the package.json and package-lock.json. This step is separated to utilize caching.
COPY package*.json ./


# Install project dependencies
RUN npm install

# Copy important files from the root
COPY tsconfig.base.json .
COPY nx.json .
COPY jest.preset.js .

# Start the app accounts
CMD ["nx", "serve", "loyalty"]